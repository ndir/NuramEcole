<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//FR" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  V 0.1 : Maj : 09/11/2007 -->

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:a="https://ajax4jsf.dev.java.net/ajax"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:c="http://java.sun.com/jstl/core"
	template="/template/template.xhtml">
	<!-- Page d'accueil -->





	<ui:define name="title">GESTION  #{msgBundle['gestock.titre.histo.fondRoulement']} </ui:define>
	<ui:define name="body">
		<h:form id="note">

			
			<div class="zoneResultat2" style="height:600px;overflow: auto"  >
			
		<!--  	<table> <tr> 
			      <td> <s:graphicImage fileName="candidat_64.png" style="border:0px;" value="/picto/candidat_64.png" width="5" height="5" alt="Peupler" /> </td> 
			        <td> <h1>  #{msgBundle['gestock.titre.retoureProduit']}    </h1>  </td> 
			      </tr>    
			</table>	-->				 
			
			
			
			<rich:panel header="  #{msgBundle['gestock.titre.histo.fondRoulement']} ">
		   <fieldset>
			<legend>  #{msgBundle['gestock.recherche']} </legend>
			
				      <table border="0" width="100%" cellpadding="7">
									<tr>
									
							<td><h:outputText value="Date debut :" style="font-size:11px;" styleClass="grey" /></td>
								<td><rich:calendar
										value="#{historiqueService.dateDebut}" rendered="true"
										buttonIcon="/img2/calendrier.png" cellWidth="0px"
										cellHeight="20px"
										style="width:200px;border: 3px solid #006a39;"
										styleClass="textBleu2" datePattern="dd/MM/yyyy">
									</rich:calendar></td>
									
									<td><h:outputText value="Date fin :" style="font-size:11px;" 
										styleClass="grey" /></td>
								<td><rich:calendar rendered="true"
										value="#{historiqueService.dateFin}"
										buttonIcon="/img2/calendrier.png" cellWidth="0px"
										cellHeight="20px"
										style="width:200px;border: 3px solid #006a39;"
										styleClass="textBleu2" datePattern="dd/MM/yyyy">
									</rich:calendar></td>
									<td>
							<a:commandButton image="/picto2/magnifier.png" action="#{historiqueService.rechercheFondsRoulement}" 
														style="height:26px;width:26px;border:0px;"
														reRender="listeHisto" status="waitStatus"
														styleClass="sansOmbre"
												    /> 
										       </td>
									  
						              </tr>
				  </table>
			  
			
			
			
			<table width="100%" >
			  <tr>  
			    <td valign="top" width="45%">
			       <fieldset>
			       
						<legend>  #{msgBundle['gestock.resultat']}    </legend>
						
						
						  <div style="height:300px;overflow: auto">
						 	<rich:dataTable value="#{historiqueService.listFondRoulement}" var="it"
								id="listeHisto" style="width:100%;" rowClasses="row1,row2">
								<f:facet name="header">
									<rich:columnGroup>
									    <rich:column>
											<h:outputLabel value="#{msgBundle['gestock.date']} " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.caisse']}  " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.caissier']} " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.numClient']}  " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.client']}  " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.montant']} " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.montantRegle']}" style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.montantReste']}" style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.motif']} " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										<rich:column>
											<h:outputLabel value="#{msgBundle['gestock.utilisateur']} " style="color:white;font-size:12px;font-family: Arial;text-align:center;" />
										</rich:column>
										
									</rich:columnGroup>
								</f:facet>
								    <rich:column >
								         <TABLE align="center" >  <tr >  <td align="center" >
										    <h:outputText value="#{it.dateSaisi}" styleClass="grey" />
									     </td>  </tr> </TABLE>
								    </rich:column>
									<rich:column  >
										<h:outputText value="#{it.caisse.getLibelle()}" styleClass="grey" />
								    </rich:column>
								    <rich:column    >
										<h:outputText value="" styleClass="grey" />
								    </rich:column>
								      <rich:column >
								         <TABLE align="lefter" >  <tr >  <td align="lefter" >
										    <h:outputText value="#{it.codeClient }" /> 
									     </td>  </tr> </TABLE>
								    </rich:column>
								    
								      <rich:column filterEvent="onkeyup" filterBy="#{it.intituleClient}" style="width :100px">
								         <TABLE align="lefter" >  <tr >  <td align="lefter" >
										    <h:outputText value="#{it.intituleClient}" /> 
									     </td>  </tr> </TABLE>
								    </rich:column>
								    
								     <rich:column >
								         <TABLE align="right" >  <tr >  <td align="right" >
										    <h:outputText value="#{it.montant}" styleClass="grey" > 
										        <f:convertNumber pattern="#,###"/>
										    </h:outputText>
										    #{msgBundle['monnaie.unite']}
									     </td>  </tr> </TABLE>
								    </rich:column>
								     <rich:column >
								         <TABLE align="right" >  <tr >  <td align="right" >
										    <h:outputText value="#{it.montantRegle}" styleClass="grey" > 
										        <f:convertNumber pattern="#,###"/>
										    </h:outputText>
										    #{msgBundle['monnaie.unite']}
									     </td>  </tr> </TABLE>
								    </rich:column>
								     <rich:column >
								         <TABLE align="right" >  <tr >  <td align="right" >
										    <h:outputText value="#{it.montantRestant}" styleClass="grey" style="color:red" > 
										        <f:convertNumber pattern="#,###"/>
										    </h:outputText>
										    #{msgBundle['monnaie.unite']}
									     </td>  </tr> </TABLE>
								    </rich:column>
								    
								      <rich:column >
								         <TABLE align="leter" >  <tr >  <td align="lefter" >
										    <h:outputText value="#{it.motif}" /> 
									     </td>  </tr> </TABLE>
								    </rich:column>
								     <rich:column >
								         <TABLE align="leter" >  <tr >  <td align="lefter" >
										    <h:outputText value="#{it.utilisateurSaisi}" />
									     </td>  </tr> </TABLE>
								    </rich:column>
								  
							</rich:dataTable>
						</div>		
				   </fieldset>
				</td>
			
			    </tr>
			    
		    </table>
			    
			    
		   </fieldset>
	 
		
		 
		</rich:panel>
		</div>
		</h:form>
		
		
		
			
			
			
	</ui:define>
</ui:composition>